# 悬浮标签列表功能

## 功能概述

新增的悬浮标签列表功能允许用户在鼠标悬停到标签上时，显示该标签最近切换到的其他标签列表。这个功能提供了快速切换回之前访问标签的便捷方式。

## 功能特性

### 1. 智能历史记录
- 自动记录每个标签的切换历史
- 最多保存20个历史记录
- 按时间倒序排列，最新的在前
- 自动去重，避免重复记录

### 2. 视觉层次效果
- 最多显示5个标签
- 标签大小和透明度渐变效果
- 最下方的标签最实（100%透明度和缩放）
- 往上逐渐变小和变淡
- 最小透明度：30%，最小缩放：80%

### 3. 滚动支持
- 支持鼠标滚轮滚动查看更多标签
- 支持键盘上下箭头键滚动
- 平滑的滚动动画效果

### 4. 交互体验
- 300ms延迟显示，避免快速移动时频繁显示
- 200ms延迟隐藏，给用户时间移动到悬浮列表
- 点击任意标签即可切换到该标签
- 自动隐藏悬浮列表

## 使用方法

1. **触发显示**：将鼠标悬停在任意标签上300ms
2. **查看历史**：悬浮列表会显示该标签最近切换到的其他标签
3. **滚动浏览**：使用鼠标滚轮或键盘上下箭头键滚动查看更多标签
4. **快速切换**：点击任意历史标签即可切换到该标签
5. **自动隐藏**：鼠标离开标签或悬浮列表200ms后自动隐藏

## 技术实现

### 存储结构
```typescript
interface RecentTabSwitchHistory {
  tabId: string;           // 当前标签ID
  recentTabs: TabInfo[];  // 最近切换的标签列表
  lastUpdated: number;     // 最后更新时间
  maxRecords: number;      // 最大记录数量
}
```

### 配置选项
```typescript
interface HoverTabListConfig {
  maxDisplayCount: number;    // 最大显示数量（默认5）
  scrollStep: number;         // 滚动步长（默认1）
  animationDuration: number;  // 动画持续时间（默认200ms）
  minOpacity: number;         // 最小透明度（默认0.3）
  minScale: number;           // 最小缩放比例（默认0.8）
  enableScroll: boolean;       // 是否启用滚动（默认true）
}
```

## 性能优化

1. **延迟加载**：只有在需要时才创建悬浮列表UI
2. **事件防抖**：使用定时器避免频繁显示/隐藏
3. **内存管理**：自动清理不需要的DOM元素
4. **数据限制**：限制历史记录数量，避免存储过多数据

## 兼容性

- 支持水平和垂直布局模式
- 自动适配Orca主题色彩
- 兼容现有的标签页功能
- 不影响其他插件的正常运行

## 注意事项

1. 只有存在切换历史的标签才会显示悬浮列表
2. 悬浮列表会显示在标签下方，避免遮挡其他内容
3. 支持键盘导航，提升无障碍体验
4. 自动处理边界情况，确保UI不会超出屏幕范围
