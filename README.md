# Orca Tabs Plugin

为 Orca Note 提供浏览器式标签页功能，智能读取所有活跃编辑器块并显示为可拖拽的悬浮标签页，方便在不同页面间快速切换。

- **需要设置新建标签页ID，不能为空，否则会出现BUG**
- **需要设置新建标签页ID，不能为空，否则会出现BUG**
- **需要设置新建标签页ID，不能为空，否则会出现BUG**
- **需要设置新建标签页ID，不能为空，否则会出现BUG**


> 设置方法:选中需要设置为新标签页的块 → 右键块标 → 选中更多 → 复制块ID → 粘贴到插件设置页面中的主页块ID中
## 使用

在右侧 [Releases](https://github.com/SaXz2/orca-tabs-plugin/releases) 选择最新版本下载

**插件结构目录**
```
my-orca-plugin/
├── dist/                     # Compiled code
│   ├── index.js              # Compiled plugin file
├── src/
│   ├── main.ts               # Entry file, contains plugin registration and initialization logic
│   ├── orca.d.ts             # Plugin API type definition file
│   └── styles/               # CSS style files
├── icon.png                  # Plugin icon image
├── package.json              # Project configuration
├── tsconfig.json             # TypeScript configuration
├── vite.config.js            # Vite build configuration (if using Vite)
└── README.md                 # Plugin documentation

```

**插件放置到对应位置以后需要重启 Orca Note**


## **插件功能说明**

-  **新增2025年9月13日：工作区**
- **新标签页打开**：右键块标选择"在新标签页打开"（后台打开，不会跳转和聚焦）
-  **添加到已有标签组**：右键标签页或右键块标选择"添加到已有标签组"
-  **工作区功能**：顶部栏按钮，保存当前标签页为工作区，快速切换不同工作区
-  **切换布局**：右键新建标签页的加号
-  **最近关闭列表** ：顶部栏按钮
-  **保存的标签合集**：顶部栏按钮，支持拖拽排序、删除、添加备注
-  **标签页显示开关**：顶部栏按钮
-  **关闭标签页**：中键标签页
-  **置顶标签页**：双击标签页
-  **重命名标签页**：右键标签页
-  **标签最大数量**：设置缓存编辑器的数量



## 版本历史

### v2.3.5
- 🔧 **工作区功能重构优化** - 完全重写激活标签页记录机制，采用lastActiveTabId方案
- 🐛 **修复工作区切换导航问题** - 彻底解决切换工作区时导航错误的问题
- ⚡ **性能优化** - 减少不必要的计算和查找操作，提升响应速度
- 🛠️ **修复面板索引冲突** - 工作区功能现在始终使用第一个面板数据，避免索引混乱

### v2.3.3
- 🚀 **工作区功能** - 完整的标签页工作区管理系统，支持保存、切换、管理工作区
- 📁 **工作区管理** - 顶部工具栏新增工作区按钮，支持工作区名称和描述设置
- 🔄 **快速切换** - 一键切换不同工作区，当前工作区高亮显示
- 💾 **数据持久化** - 使用Orca官方存储API，数据安全可靠
- ⚙️ **设置集成** - 新增"启用工作区功能"设置开关
- 🎯 **用户体验** - 直观的操作界面，完善的错误处理和视觉反馈

### v2.3.2
- 🚀 **标签集合详情中的备注功能** - 为保存的标签页集合中的每个标签项添加备注功能
- 💭 **备注编辑系统** - 支持添加、编辑、查看备注，备注数据持久化保存
- 🎨 **UI界面增强** - 每个标签项右侧添加备注按钮，有备注时高亮显示
- ➕ **添加到已有标签组功能** - 右键标签页和右键块标新增"添加到已有标签组"选项
- 🔄 **标签集合管理增强** - 支持拖拽调整条目顺序、拖拽删除条目
- 📝 **单条目备注功能** - 在管理标签集合中为每个条目单独添加备注

### v2.3.1
- 🚀 **顶部置顶布局** - 右键新建标签选项可以置顶到左侧工具栏
- 🔧 **界面优化和修复** - 固定到顶部模式集成到软件顶部工具栏
- 🎯 **智能菜单显示** - 根据当前模式动态显示相关选项
- 📏 **垂直布局宽度调整优化** - 最小宽度从200px降低到120px
- 🎨 **样式系统重构** - 完全移除所有!important声明，提高可定制性

### v2.3.0
- 🚀 **最近关闭标签页功能** - 自动记录最近关闭的标签页（最多20个），支持一键恢复和智能去重
- 💾 **多标签页保存功能** - 保存当前多标签页集合，支持自定义名称、图标选择、内联编辑
- 🎯 **智能对话框层级管理** - 动态z-index管理系统，确保对话框始终显示在最前面
- 🐛 **修复多个问题** - 对话框、内联编辑、图标选择等问题的全面修复

### v2.2.1
- 🚀 **智能块类型检测系统** - 新增完整的块类型自动检测功能，支持20+种块类型识别
- 🎨 **块类型图标显示** - 在标签页中显示对应的块类型图标，使用Tabler Icons图标库
- 🔧 **内容解析优化** - 优化块内容的多段拼接逻辑，提升标题提取准确性
- 📍 **位置管理增强** - 分别管理水平和垂直模式下的窗口位置，支持独立存储
- 🗑️ **存储系统优化** - 移除过时的localStorage迁移代码，简化存储架构
- 🔗 **块引用显示优化** - 优化块引用的显示格式，添加[[]]包围
- ⚡ **性能提升** - 改进多段内容拼接逻辑，减少不必要的复杂解析操作

### v2.1.6
- 🐛 **修复侧边栏交互问题** - 解决侧边栏收藏/标签/页面按钮点不动的问题
- 🐛 **修复侧边栏拖拽问题** - 解决侧边栏/分屏拖拽尺寸调整失效的问题
- 🐛 **修复日期块导航问题** - 解决日期块标签页点击无响应的问题，使用正确的 Orca 原生导航方式
- 🐛 **修复拖拽状态问题** - 解决拖拽浮动窗后整个页面变成抓手无法点击的问题
- 🔧 **优化事件处理机制** - 使用更精确的元素选择器和更低的事件优先级
- 🔧 **增强导航逻辑** - 支持 Orca 原生命令和正确的日期格式
- 🔧 **完善样式管理** - 完整的拖拽状态清理和元素重置机制

### v2.1.5
- 🐛 **修复固定标签页被替换问题** - 在固定标签页上打开新标签时，新标签会正确插入到固定标签后面而不是替换固定标签
- 🔧 **优化标签插入逻辑** - 改进了 `checkFirstPanelBlocks` 和 `addTabToPanel` 方法中的标签插入逻辑
- 🛡️ **增强固定标签保护** - 确保固定标签永远不会被意外替换，保持标签栏的稳定性

### v2.1.4
- 基础功能完善，包含标签固定、拖拽、关闭等核心功能







